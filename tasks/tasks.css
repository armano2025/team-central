/* ===== Tasks – משתלב עם styles.css הראשי ===== */

/* עוטף עמוד */
.container {
  max-width: 1100px;
  margin: 0 auto;
  padding: var(--spacing);
  text-align: start;
}

/* פס טעינה עליון */
.top-loader {
  position: fixed; top: 0; left: 0; right: 0; height: 3px;
  background: linear-gradient(90deg, var(--color-primary), var(--color-secondary), var(--color-primary));
  background-size: 200% 100%;
  animation: topRun 1.1s linear infinite;
  z-index: 10000;
}
.top-loader[hidden] { display: none; }
@keyframes topRun { to { background-position: 200% 50%; } }

/* כפתור חזרה */
.back-link { display:inline-flex; align-items:center; gap:6px; text-decoration:none; color:#2563eb; margin:8px 12px; font-size:14px; }
.back-link:hover { text-decoration: underline; }

/* כותרת עליונה */
.page-header {
  background: var(--color-surface);
  border-bottom: 1px solid rgba(0,0,0,.06);
  border-radius: var(--border-radius);
  padding: calc(var(--spacing)*.75) var(--spacing);
  margin-bottom: var(--spacing);
}
.page-header h1 { margin: 0 0 12px; font-size: 1.5rem; }

/* כפתורים */
.btn { padding:10px 14px; border:0; border-radius:8px; cursor:pointer; font:inherit; }
.btn.primary { background: var(--color-primary); color: var(--color-surface); }
.btn.primary:hover { background: var(--color-secondary); }
.btn.ghost { background: transparent; color: var(--color-text); border: 1px solid rgba(0,0,0,.12); }
.btn.ghost:hover { background: rgba(0,0,0,.04); }
.btn.orange { background:#f59e0b; color:#fff; }
.btn.orange:hover { background:#d97706; }

/* בועות – רשת */
.bubbles-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:14px; margin-top:16px; }

/* בועה */
.bubble {
  display:block; background:var(--color-surface);
  border:1px solid rgba(0,0,0,.08); border-radius:16px; padding:16px;
  text-decoration:none; color:var(--color-text);
  box-shadow:0 1px 2px rgba(0,0,0,.04);
  transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
}
.bubble:hover { transform: translateY(-2px); box-shadow:0 6px 18px rgba(0,0,0,.08); border-color:rgba(0,0,0,.12); }

/* כותרת וסטטיסטיקות בבועה */
.bubble-title { font-weight:700; margin-bottom:8px; line-height:1.3; font-size:1.05rem; }
.bubble-stats { display:flex; gap:20px; color:rgba(0,0,0,.7); align-items:baseline; }
.bubble-stats div span { font-weight:800; font-size:1.4rem; line-height:1; }

/* בועה רחבה */
.bubble.big { grid-column:1 / -1; border-inline-start:6px solid var(--color-primary); }

/* צבעי מטפל */
.b1 { border-inline-start:6px solid #2563eb; }
.b2 { border-inline-start:6px solid #16a34a; }
.b3 { border-inline-start:6px solid #f59e0b; }
.b4 { border-inline-start:6px solid #ef4444; }
.b5 { border-inline-start:6px solid #0ea5e9; }

/* כרטיס כללי */
.card {
  background: var(--color-surface);
  border: 1px solid rgba(0,0,0,.08);
  border-radius: 16px;
  padding: 16px;
  margin: 16px 0;
}

/* ====== HERO ====== */
.stat-link { text-decoration:none; }
.stat-pill {
  display:inline-flex; align-items:center; gap:6px;
  padding:8px 12px; border-radius:999px;
  background: rgba(245, 158, 11, .12);
  border: 1px solid rgba(245, 158, 11, .35);
  color: var(--color-text);
}
.stat-pill strong { font-weight:800; font-size:2rem; line-height:1; }

/* ספינר בתוך ההירו */
.hero-spinner { display:inline-flex; gap:6px; margin:6px 0 2px; }
.hero-spinner[hidden] { display:none; }
.hero-dot { width:8px; height:8px; border-radius:50%; background:#fff; opacity:.7; animation: heroPulse 1s ease-in-out infinite; }
.hero-dot:nth-child(2){ animation-delay:.15s; }
.hero-dot:nth-child(3){ animation-delay:.30s; }
@keyframes heroPulse {
  0%,100%{ transform:scale(.7); opacity:.4; }
  50%{ transform:scale(1); opacity:1; }
}

/* מצב כהה */
html.dark-mode .page-header { border-color: rgba(255,255,255,.08); }
html.dark-mode .btn.ghost { border-color: rgba(255,255,255,.22); }
html.dark-mode .bubble-stats,
html.dark-mode .card { color: rgba(255,255,255,.9); }
html.dark-mode .stat-pill { background: rgba(245, 158, 11, .18); border-color: rgba(245, 158, 11, .45); }